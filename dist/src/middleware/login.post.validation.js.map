{"version":3,"sources":["middleware/login.post.validation.js"],"names":["buildCheckFunction","validator","validationResult","buildSanitizeFunction","sanitizer","sanitize","check","module","exports","customSanitizer","email","toLowerCase","trim","exists","withMessage","isEmail","req","res","next","results","formatWith","formatter","isEmpty","status","array"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;IAEQA,kB,GAA0CC,e,CAA1CD,kB;IAAoBE,gB,GAAsBD,e,CAAtBC,gB;IACpBC,qB,GAA0CC,gB,CAA1CD,qB;;AACR,IAAME,WAA4CF,sBAAsB,CAAC,MAAD,CAAtB,CAAlD;AACA,IAAMG,QAA4CN,mBAAmB,CAAC,MAAD,CAAnB,CAAlD;;AAEAO,OAAOC,OAAP,GAAiB,CACbH,SAAS,OAAT,EACKI,eADL,CACqB,iBAAS;AACtB,WAAOC,MAAMC,WAAN,GAAoBC,IAApB,EAAP;AACH,CAHL,CADa,EAKbN,MAAM,OAAN,EACKO,MADL,GACcC,WADd,CAC0B,gBAD1B,EAEKC,OAFL,GAEeD,WAFf,CAE2B,gBAF3B,CALa,EAQbR,MAAM,UAAN,EACKO,MADL,GACcC,WADd,CAC0B,mBAD1B,CARa,EAUb,UAACE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAChB,QAAMC,UAAUjB,iBAAiBc,GAAjB,EAAsBI,UAAtB,CAAiCC,0BAAjC,CAAhB;AACA,QAAI,CAACF,QAAQG,OAAR,EAAL,EAAwB;AACpBL,YAAIM,MAAJ,CAAW,GAAX;AACAL,aAAKC,QAAQK,KAAR,EAAL;AACH;AACDN;AACH,CAjBY,CAAjB","file":"../../middleware/login.post.validation.js","sourcesContent":["import validator  from 'express-validator/check';\nimport sanitizer  from 'express-validator/filter';\nimport formatter  from './express.validator.formatter';\n\nconst { buildCheckFunction, validationResult }  = validator;\nconst { buildSanitizeFunction }                 = sanitizer;\nconst sanitize                                  = buildSanitizeFunction(['body']);\nconst check                                     = buildCheckFunction(['body']);\n\nmodule.exports = [\n    sanitize('email')\n        .customSanitizer(email => {\n            return email.toLowerCase().trim();\n        }),\n    check('email')\n        .exists().withMessage('Email required')\n        .isEmail().withMessage('Invalid e-mail'),\n    check('password')\n        .exists().withMessage('Password required'),\n    (req, res, next) => {\n        const results = validationResult(req).formatWith(formatter);\n        if (!results.isEmpty()) {\n            res.status(422);\n            next(results.array())\n        }\n        next();\n    }\n];"]}